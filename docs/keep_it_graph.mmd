%%{init: {'flowchart': {'defaultRenderer': 'elk'}} }%%
graph LR
    basic_types["cl_basic_types"]
    colan_widgets["colan_widgets"]
   
    subgraph "Store"
        store["store"]
        dart_client["cl_server_dart_client"]
        local_store["local_store"]
        
    end
    subgraph "Camera Service"
    camera["cl_camera"]
    camera_svc["camera_service"]
    end
  

    subgraph "Feature Packages"
        form_factory["form_factory"]
        media_tools["cl_media_tools"]
        date_picker["yet_another_date_picker"]
        
        media_editors["media_editors"]
        entity_viewers["cl_entity_viewers"]
    end

    subgraph cl_services["colan_services"]
        content_store_svc["content_store_service"]
        server_svc["server_service"]
        incoming_media_svc["incoming_media_service"]
        store_tasks_svc["store_tasks_service"]
        storage_svc["storage_service"]
        init_svc["init_service"]
        preference_svc["preference_service"]
    end

  
    keep_it["keep_it"]
   

    %% Core Package Dependencies
    
    store --> basic_types
    
    
    dart_client --> store
   
    local_store --> store

    %% Utility Package Dependencies
    media_tools --> basic_types
  
   
    form_factory --> colan_widgets
    entity_viewers --> basic_types
    
    entity_viewers --> colan_widgets
    entity_viewers --> date_picker

    %% Service Dependencies - camera_service
    camera_svc --> basic_types
    camera_svc --> camera
    camera_svc --> colan_widgets
    camera_svc --> store

    %% Service Dependencies - content_store_service
    content_store_svc --> basic_types
   
    content_store_svc --> media_tools
    content_store_svc --> dart_client
    content_store_svc --> local_store
    content_store_svc --> store

    %% Service Dependencies - incoming_media_service
    incoming_media_svc --> basic_types
   
    incoming_media_svc --> media_tools
    incoming_media_svc --> store

    %% Service Dependencies - init_service
    %% (minimal dependencies - only flutter/riverpod)

    %% Service Dependencies - preference_service
    %% (minimal dependencies - only flutter/riverpod)

    %% Service Dependencies - server_service
   
    server_svc --> dart_client

    

    %% Service Dependencies - store_tasks_service
    store_tasks_svc --> store

    %% App Dependencies
    keep_it --> cl_services
    keep_it --> basic_types
    keep_it --> camera
    keep_it --> entity_viewers
 
    keep_it --> media_tools
    keep_it --> dart_client
    keep_it --> colan_widgets
    keep_it --> form_factory
    keep_it --> local_store
    keep_it --> media_editors
    keep_it --> store

    linkStyle 2 stroke-width:0px;